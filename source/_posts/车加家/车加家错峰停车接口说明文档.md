---
title: 车加家错峰停车接口说明文档
categories:
  - 车加家
  - 产品文档
tags: 错峰停车
passwd: cnetc
abbrlink: 740cbc05
date: 2018-01-10 17:59:54
---





### 一、系统用例

![](http://xuh.cn-etc.com/2018/01/02/1514872592132.png)



### 二、同利云车场接口

##### 2.1 接口清单
|接口名称|接口备注|
|------|--------|
|租赁车位资源查询接口|车加家APP会定期主动发起查询，补全/修正/校对已开通租赁停车场信息。|
|租赁白名单接收接口|用户在车加家APP生成租赁订单后，会通过该接口推送给同利云车场系统。|


##### 2.2 接口详情


###### 2.2.1 租赁车场资源查询接口（`api/leasePark`)


车加家通过该接口查询可租赁停车场价格，时段等信息。


- 请求参数


| 参数名	   |  类型	|  必须	|         说明  	          |
|----------|--------|-------|-------------------------|
|page	|Int	|N |页码，指定需要返回第 { page } 页的数据，默认 1|
|limit	|Int	|N |返回数据数量，指定一次返回的数据条数，默认1000|


- 返回data参数

| 名称	   |  类型   | 含义	               |
|----------|-------|----------------------|
|park_sn	|String	|停车场编号|
|park_name	|String	 |停车场名称|
|deadline	|String	 |有效截止期限，格式：YYYY-mm-dd|
|start_time	|String	 |租赁时段起始时间，格式：HH:ii|
|end_time	|String	 |租赁时段结束时间，格式：HH:ii|
|is_sat	|Int	 |是否支持周六全天停车。可选值：<br />1：支持<br />0：不支持|
|is_sun	|Int	 |是否支持周日全天停车。可选值：<br />1：支持<br />0：不支持|
|is_holiday	|Int	 |是否支持法定假日全天停车。可选值：<br />1：支持<br />0：不支持|
|price	|Int	 |每30分钟价格。单位：分|
|start_price	|Int	 |起步价。单位：分|
|holiday_price	|Int	 |节假日全天价格。单位：分|
|longitude|	String|	停车场经度	|
|latitude|	String|	停车场纬度	|

- 错误码

  NULL

<br />



###### 2.2.2 租赁订单同步接口（`api/SynLeaseOrder`)


车加家通过该接口同步租赁白名单到同利停车系统。

- 请求参数


| 参数名	   |  类型	|  必须	|         说明  	          |
|----------|--------|-------|-------------------------|
|park_sn	|String	|Y |停车场编号|
|car_plate_no	|String	|N |车牌号|
|dates|Object[]		|Y|租赁时间|


- dates参数


| 参数名	   |  类型	|  必须	|         说明  	          |
|----------|--------|-------|-------------------------|
|date|String		|Y|租赁日期|
|start_time|String		|Y|租赁时段起始时间，格式：HH:ii|
|end_time|String		|Y|租赁时段结束时间，格式：HH:ii|

> 请求参数示例(不含公共参数)

```
	{
		'park_sn': '2017-01-01 12:00:00',
		'car_plate_no': '苏 E88888',
		'dates': [{
        	'date': '2018-01-01',
        	'start_time': '19:00',
        	'end_time': '23:30',
        },{
        	'date': '2018-01-02',
        	'start_time': '19:00',
        	'end_time': '06:30',
        },{
        	'date': '2018-01-03',
        	'start_time': '19:00',
        	'end_time': '07:30',
        },....]
	}
```


- 返回data参数

  NULL

- 错误码

  NULL

<br />





### 三、车加家接口

##### 3.1 接口清单

|接口名称|接口备注|
|------|--------|
|租赁车场资源接收接口|同利云车场在可租赁车场/时段/价格等变更时会通过该接口推送给车加家APP。|
|租赁订单查询接口|同利云车场可以设置定时任务查询该接口，以补全/修正/校验租赁白名单记录。|


##### 3.2 接口详情

###### 3.2.1 租赁车场资源接收（`lease/park`)


车加家通过该接口接收同利推送的可租赁停车场价格，时段等信息并保存。


- 请求参数


| 参数名	   |  类型	|  必须	|         说明  	          |
|----------|--------|-------|-------------------------|
|park_sn	|String	|Y |停车场编号|
|park_name	|String	|Y |停车场名称|
|deadline	|String	|Y |有效截止期限，格式：YYYY-mm-dd|
|start_time	|String	|Y |租赁时段起始时间，格式：HH:ii|
|end_time	|String	|Y |租赁时段结束时间，格式：HH:ii|
|is_sat	|Int	|Y |是否支持周六全天停车。可选值：<br />1：支持<br />0：不支持|
|is_sun	|Int	|Y |是否支持周日全天停车。可选值：<br />1：支持<br />0：不支持|
|is_holiday	|Int	|Y |是否支持法定假日全天停车。可选值：<br />1：支持<br />0：不支持|
|price	|Int	|Y |单价（每30分钟价格）。单位：分|
|start_price	|Int	|Y |起步价。单位：分|
|holiday_price	|Int	|Y |节假日（含周六日）全天价格。单位：分|
|longitude|	String|	N |经度|
|latitude	|String	|N |纬度|


- 返回data参数

  NULL

- 错误码

  NULL

<br />


###### 3.2.2 租赁订单查询接口（`lease/order`)


同利停车系统可以根据停车场编号调用该接口，查询该停车场租赁订单列表信息。

- 请求参数


| 参数名	   |  类型	|  必须	|         说明  	          |
|----------|--------|-------|-------------------------|
|park_sn	|String	|Y |停车场编号|
|car_plate_no	|String	|N |查询指定车牌号，有值时只返回指定车牌号的租赁订单|
|page	|Int	|N |页码，指定需要返回第 { page } 页的数据，默认 1|
|limit	|Int	|N |返回数据数量，指定一次返回的数据条数，默认1000|


- 返回data参数

| 名称	   |  类型   | 含义	               |
|----------|-------|----------------------|
|car_plate_no|String		|车牌号|
|date|String		|租赁日期|
|start_time|String		|租赁时段起始时间，格式：HH:ii|
|end_time|String		|租赁时段结束时间，格式：HH:ii|

> data参数示例

```
	[{
		'car_plate_no': '苏 E88888',
        'date': '2018-01-01',
        'start_time': '19:00',
        'end_time': '23:30'
	},{
		'car_plate_no': '苏 E88888',
        'date': '2018-01-01',
        'start_time': '19:00',
        'end_time': '23:30'
	},{
		'car_plate_no': '苏 E88888',
        'date': '2018-01-01',
        'start_time': '19:00',
        'end_time': '23:30'
	},....]
```


- 错误码

  NULL

<br />
