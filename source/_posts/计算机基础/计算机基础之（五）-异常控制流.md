---
title: 计算机基础之（五）- 异常控制流
date: 2019-03-11 22:04:35
categories:
    - 计算机基础
    - 异常控制流
tags:
    - 异常
    - 中断
    - ECF
---



# 异常控制流

### 什么是异常控制流（ECF）

计算机从开机到关机，CPU不停的从内存读取指令然后执行，默认情况指令$I_k$和指令$I_{k+1}$在内存中是相邻的，CPU从上一个指令过渡到下一个指令称为`控制转移(control transfer)`，这个控制转移序列即处理器的`控制流(control flow)`。

到目前为止，在应用程序内，改变控制流的方式有：

- 跳转和分支
- 调用和返回

但计算机系统也必须对应用程序外的状态变化做出相应，比如硬件定时器产生信号、网络包到达、磁盘读写就绪等，系统通过控制流的突变来对这些状态做出相应，这种突变的控制流称为`异常控制流(Exceptional Control Flow,ECF)`，ECF存在于计算机系统的各个层次。



### 理解ECF对程序员的意义

##### 有助于理解重要的系统概念

ECF是系统实现I/O、进程和虚拟内存的基本机制。

##### 有助于理解应用程序如何与操作系统交互

应用程序通过`系统调用(system call)`向操作系统请求诸如磁盘读写、从网络获取数据、创建/终止进程等服务，系统调用或称为`陷阱(trap)`即为ECF的一种形式。

##### 有助于理解并发

ECF是计算机系统中实现并发的基本机制。

##### 有助于理解软件异常的实现机制

C++、Java等有异常处理的编程语言，通过try、catch以及throw语句来提供软件异常机制。底层通过非本地跳转(违反调用/返回栈规则的跳转)来响应错误，在C语言中通过setjmp和longjmp函数实现非本地跳转。





# 异常(Exception)



### 异常一般概念



### 异常分类



### 异常处理



### Linux/x86-64系统的异常



# 进程(Process)



### 基本概念



### 逻辑控制流



### 并发流



### 私有地址空间



### 用户模式和内核模式



### 上下文切换



### 进程控制



# 信号（Signal）





# 非本地跳转

